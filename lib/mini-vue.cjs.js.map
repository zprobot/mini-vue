{"version":3,"file":"mini-vue.cjs.js","sources":["../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../src/runtime-core/componentEmit.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/componentSlots.ts","../src/runtime-core/component.ts","../src/runtime-core/componentUpdateUtils.ts","../src/runtime-core/vnode.ts","../src/runtime-core/createApp.ts","../src/runtime-core/renderer.ts","../src/runtime-core/h.ts","../src/runtime-core/helpers/renderSlots.ts","../src/runtime-core/apiInject.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export const extend = Object.assign\r\nexport const isObject = (val) => {\r\n    return val !== null && typeof val === 'object'\r\n}\r\nexport const hadChange = (oldVal, newVal) => {\r\n    return !Object.is(oldVal, newVal)\r\n}\r\nexport const hasOwn = (val, key) => Object.prototype.hasOwnProperty.call(val,key)\r\n// add-foo -> addFoo\r\nexport const camelize = str => str.replace(/-(\\w)/g,(_,c:string)=>c ? c.toUpperCase(): '')\r\n// addFoo -> AddFoo\r\nconst capitalize = str => str.charAt(0).toUpperCase() + str.slice(1)\r\n// add -> onAdd \r\nexport const toHandlerKey = str => str ? 'on' + capitalize(str) : ''","import { extend } from \"../shared\"\r\n\r\nexport class ReactiveEffect {\r\n    private _fn: any\r\n    deps = []\r\n    active = true\r\n    onStop?: () => void\r\n    constructor(fn, public scheduler?) {\r\n        this._fn = fn\r\n    }\r\n    run() {\r\n        if(!this.active) {\r\n            return this._fn()\r\n        }\r\n        shouldTrack = true\r\n        activeEffect = this\r\n        const res = this._fn()\r\n        shouldTrack = false\r\n        return res\r\n    }\r\n    stop() {\r\n        if(this.active) {\r\n            cleanupEffect(this)\r\n            if(this.onStop) {\r\n                this.onStop()\r\n            }\r\n            this.active = false\r\n        }\r\n    }\r\n}\r\n\r\nfunction cleanupEffect(effect) {\r\n    effect.deps.forEach((deps: any)=>{\r\n        deps.delete(effect)\r\n    })\r\n    effect.deps.length = 0\r\n}\r\n\r\nconst targetMap = new Map()\r\nexport function track(target, key) {\r\n    if(!isTracking()) return\r\n    let depsMap = targetMap.get(target)\r\n    if(!depsMap) {\r\n        depsMap = new Map()\r\n        targetMap.set(target, depsMap)\r\n    }\r\n    let deps = depsMap.get(key)\r\n    if(!deps) {\r\n        deps = new Set()\r\n        depsMap.set(key, deps)\r\n    }\r\n    trackEffects(deps)\r\n}\r\nexport function isTracking() {\r\n    return shouldTrack && activeEffect !== undefined\r\n}\r\nexport function trackEffects(deps) {\r\n    if(deps.has(activeEffect)) return\r\n    deps.add(activeEffect)\r\n    activeEffect.deps.push(deps) // 反向收集依赖\r\n}\r\n\r\nexport function trigger(target, key) {\r\n    const depsMap = targetMap.get(target)\r\n    const deps = depsMap.get(key)\r\n    triggerEffects(deps)\r\n}\r\nexport function triggerEffects(deps) {\r\n    for (const effect of deps) {\r\n        if(effect.scheduler) {\r\n            effect.scheduler()\r\n        } else {\r\n            effect.run()\r\n        }\r\n    }\r\n}\r\n\r\nlet activeEffect\r\nlet shouldTrack\r\nexport function effect(fn, options:any = {}) {\r\n    const _effect = new ReactiveEffect(fn, options.scheduler)\r\n    // extend options\r\n    extend(options)\r\n    _effect.onStop = options.onStop\r\n    _effect.run()\r\n    const runner: any = _effect.run.bind(_effect)\r\n    runner.effect = _effect\r\n    return runner\r\n}\r\n\r\nexport function stop(runner) {\r\n    runner.effect.stop()\r\n}","import { extend, isObject } from \"../shared\"\r\nimport { track, trigger } from \"./effect\"\r\nimport { reactive, ReactiveFlags, readonly } from \"./reactive\"\r\n// 缓存，不需要每次访问都创建\r\nconst get = createGetter()\r\nconst set = createSetter()\r\nconst readonlyGet = createGetter(true)\r\nconst shallowReadonlyGet = createGetter(true, true)\r\n\r\nfunction createGetter(isReadonly = false, isShallow = false) {\r\n    return function get(target, key) {\r\n        // 用于判断响应式\r\n        if(key === ReactiveFlags.IS_REACTIVE) {\r\n            return !isReadonly\r\n        }\r\n        if(key === ReactiveFlags.IS_READONLY) {\r\n            return isReadonly\r\n        }\r\n        const res = Reflect.get(target, key)\r\n        if(isObject(res) && !isShallow) {\r\n            // 深度响应式\r\n            return isReadonly ? readonly(res) : reactive(res)\r\n        }\r\n        // 搜集依赖\r\n        if(!isReadonly) {\r\n            track(target, key)\r\n        }\r\n        return res\r\n    }\r\n}\r\nfunction createSetter() {\r\n    return function set(target, key, value) {\r\n        const res = Reflect.set(target, key, value)\r\n        // 触发依赖\r\n        trigger(target, key)\r\n        return res\r\n    }\r\n}\r\nexport const mutableHandlers = {\r\n    get,\r\n    set,\r\n}\r\nexport const readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key, value) {\r\n        console.warn('readonly do not support set')\r\n        return true\r\n    }\r\n}\r\nexport const shallowReadonlyHandlers = extend({},readonlyHandlers,{\r\n    get: shallowReadonlyGet\r\n})","import { isObject } from \"../shared\"\r\nimport { mutableHandlers, readonlyHandlers, shallowReadonlyHandlers } from \"./baseHandlers\"\r\n\r\nexport const enum ReactiveFlags {\r\n    IS_REACTIVE = '__v_isReactive',\r\n    IS_READONLY = '__v_isReadonly'\r\n}\r\n\r\nexport function reactive(obj) {\r\n    return createActiveObject(obj, mutableHandlers)\r\n}\r\n\r\nexport function readonly(obj) {\r\n    return createActiveObject(obj, readonlyHandlers)\r\n}\r\nexport function shallowReadonly(obj) {\r\n    return createActiveObject(obj, shallowReadonlyHandlers)\r\n}\r\nexport function isReactive(value) {\r\n    return !!value[ReactiveFlags.IS_REACTIVE]\r\n}\r\nexport function isReadonly(value) {\r\n    return !!value[ReactiveFlags.IS_READONLY]\r\n}\r\nexport function isProxy(value) {\r\n    return isReactive(value) || isReadonly(value)\r\n}\r\nfunction createActiveObject(raw: any, baseHandlers) {\r\n    if(!isObject(raw)){\r\n        console.warn(`target ${raw} must be an object`)\r\n        return raw\r\n    }\r\n    return new Proxy(raw, baseHandlers)\r\n}\r\n","import { hadChange, isObject } from \"../shared\"\r\nimport { isTracking, trackEffects, triggerEffects } from \"./effect\"\r\nimport { reactive } from \"./reactive\"\r\nclass RefImpl {\r\n    private _value: any\r\n    public deps\r\n    public __v_isRef = true\r\n    private _rawValue: any\r\n    constructor(value) {\r\n        this._rawValue = value\r\n        this._value = convert(value)\r\n        this.deps = new Set()\r\n    }\r\n    get value() {\r\n        trackRefValue(this)\r\n        return this._value\r\n    }\r\n    set value(newValue) {\r\n        if(hadChange(this._rawValue, newValue)) {\r\n            this._rawValue = newValue\r\n            this._value = convert(newValue)\r\n            triggerEffects(this.deps)\r\n        }\r\n    }\r\n}\r\nfunction trackRefValue(ref) {\r\n    if(isTracking()) {\r\n        trackEffects(ref.deps)\r\n    }\r\n}\r\nfunction convert(value) {\r\n    return isObject(value) ? reactive(value) : value\r\n}\r\nexport function ref(value) {\r\n    return new RefImpl(value)\r\n}\r\nexport function isRef(ref) {\r\n    return !!ref.__v_isRef\r\n}\r\nexport function unRef(ref) {\r\n    return isRef(ref) ? ref.value: ref\r\n}\r\nexport function proxyRefs(ref) {\r\n    return new Proxy(ref, {\r\n        get(target, key){\r\n            return unRef(Reflect.get(target,key))\r\n        },\r\n        set(target,key,newValue){\r\n            if(isRef(target[key]) && !isRef(newValue)) {\r\n                return (target[key].value = newValue)\r\n            }\r\n            return Reflect.set(target,key,newValue)\r\n        }\r\n    })\r\n}","import { camelize, toHandlerKey } from \"../shared\"\r\n\r\nexport function emit (instance, event, ...args) {\r\n    console.log('emit',event)\r\n    const { props } = instance\r\n    // add -> onAdd\r\n    // add-foo -> onAddFoo\r\n    const handlerName = toHandlerKey(camelize(event))\r\n    const handler = props[handlerName]\r\n    handler && handler(...args)\r\n}","export function initProps(instance, rawProps) {\r\n    // props\r\n    instance.props = rawProps || {}\r\n}","import { hasOwn } from \"../shared\"\r\n\r\nconst publicPropertiesMap = {\r\n    $el: (i) => i.vnode.el,\r\n    $slots: (i) => i.slots,\r\n    $props: (i) => i.props\r\n}\r\nexport const PublicInstanceProxyHandlers = {\r\n    get({_: instance}, key) {\r\n        // steupState\r\n        const { setupState, props } = instance\r\n        if (hasOwn(setupState, key)) {\r\n            return setupState[key]\r\n        }else if (hasOwn(props, key)) {\r\n            return props[key]\r\n        }\r\n        // publicProp\r\n        const publicGetter = publicPropertiesMap[key]\r\n        if(publicGetter) {\r\n            return publicGetter(instance)\r\n        }\r\n\r\n    }\r\n}","import { ShapeFlags } from \"../shared/ShapeFlags\"\r\n\r\nexport function initSlots(instance,children){\r\n    // 希望组件传过来的children是一个对象 {key: h} or {key: [h,h]}\r\n    const { vnode } = instance\r\n    // 判断当前vnode是不是插槽\r\n    if(vnode.shapeFlag & ShapeFlags.SLOT_CHILDREN) {\r\n        normalizeObjectSlots(children,instance.slots)\r\n    }\r\n}\r\nfunction normalizeObjectSlots(children,slots){\r\n    for( const key in children) {\r\n        const value = children[key]\r\n        slots[key] = (props) => normalizeSlotValue(value(props))\r\n    }\r\n}\r\n\r\nfunction normalizeSlotValue(value) {\r\n    return Array.isArray(value) ? value : [value]\r\n}","import { proxyRefs } from \"../reactivity\"\r\nimport { shallowReadonly } from \"../reactivity/reactive\"\r\nimport { emit } from \"./componentEmit\"\r\nimport { initProps } from \"./componentProps\"\r\nimport { PublicInstanceProxyHandlers } from \"./componentPublicInstance\"\r\nimport { initSlots } from \"./componentSlots\"\r\nlet currentInstance = null\r\nexport function createComponentInstance(vnode: any,parent:any) {\r\n    console.log(vnode.type,parent)\r\n    const component = {\r\n        vnode,\r\n        type: vnode.type,\r\n        setupState: {},\r\n        next: null,\r\n        props: {},\r\n        slots: {},\r\n        provides: parent ? parent.provides : {},\r\n        parent,\r\n        isMounted: false,\r\n        subTree: null,\r\n        update: () => {},\r\n        emit: () => {}\r\n    }\r\n    component.emit = emit.bind(null,component) as any\r\n    return component\r\n}\r\nexport function setupComponent(instance) {\r\n    initProps(instance,instance.vnode.props)\r\n    initSlots(instance,instance.vnode.children)\r\n    setupStatefulComponent(instance)\r\n}\r\n\r\nfunction setupStatefulComponent(instance: any) {\r\n    const Component = instance.type\r\n    // ctx\r\n    instance.proxy = new Proxy({_:instance},PublicInstanceProxyHandlers)\r\n    const {setup} = Component\r\n    if(setup){\r\n        setComponentInstance(instance)\r\n        const setupResult = setup(shallowReadonly(instance.props), { emit: instance.emit })\r\n        setComponentInstance(null)\r\n        handleSetupResult(instance, setupResult)\r\n    }\r\n}\r\nfunction handleSetupResult(instance:any, setupResult: any) {\r\n    // function \r\n    // obj\r\n    if(typeof setupResult === 'object') {\r\n        instance.setupState = proxyRefs(setupResult)\r\n    }\r\n    finishComponentSetup(instance)\r\n}\r\n\r\nfunction finishComponentSetup(instance: any) {\r\n    const Component = instance.type\r\n    if(Component.render) {\r\n        instance.render = Component.render\r\n    }\r\n}\r\n\r\nexport function getCurrentInstance() {\r\n    //返回当前组件的实例对象 只在setup中可用\r\n    return currentInstance\r\n}\r\n\r\nexport function setComponentInstance(instance) {\r\n    currentInstance = instance\r\n}","export function shouldUpdateComponent(preVNode,nextVNode) {\r\n    const {props: prevProps} = preVNode\r\n    const {props: nextProps} = nextVNode\r\n    for(const key in nextProps){\r\n        if(nextProps[key] !== prevProps[key]) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}","import { isObject } from \"../shared\"\r\nimport { ShapeFlags } from \"../shared/ShapeFlags\"\r\nexport const Fragment = Symbol('Fragment')\r\nexport const Text = Symbol('Text')\r\nexport function createVNode(type, props?, children?) {\r\n\r\n    const vnode = {\r\n        type,\r\n        props,\r\n        children,\r\n        component: null,\r\n        key: props && props.key,\r\n        shapeFlag: getShapeFlag(type),\r\n        el: null\r\n    }\r\n    if(typeof children === 'string') {\r\n        vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN\r\n    }else if(Array.isArray(children)) {\r\n        vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN\r\n    }\r\n    // 组件类型 children为object \r\n    if(vnode.shapeFlag === ShapeFlags.STATEFUL_COMPONENT && isObject(vnode.children)) {\r\n        vnode.shapeFlag |= ShapeFlags.SLOT_CHILDREN\r\n    }\r\n    return vnode\r\n}\r\n\r\nfunction getShapeFlag(type) {\r\n    return typeof type === 'string' ? ShapeFlags.ELEMENT : ShapeFlags.STATEFUL_COMPONENT\r\n}\r\nexport function createTextVnode(text){\r\n    return createVNode(Text,{},text)\r\n}","import { createVNode } from \"./vnode\"\r\nexport function createAppAPI(render) {\r\n    return function createApp(rootComponent) {\r\n        return {\r\n            mount(rootContainer) {\r\n                const vnode = createVNode(rootComponent)\r\n                render(vnode, rootContainer)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n","import { effect } from \"../reactivity/effect\"\r\nimport { ShapeFlags } from \"../shared/ShapeFlags\"\r\nimport { createComponentInstance, setupComponent } from \"./component\"\r\nimport { shouldUpdateComponent } from \"./componentUpdateUtils\"\r\nimport { createAppAPI } from \"./createApp\"\r\nimport { Fragment,Text } from \"./vnode\"\r\n\r\n\r\nexport function createRenderer(options) {\r\n    const {\r\n        createElement,\r\n        patchProp,\r\n        insert,\r\n        remove,\r\n        setTextElement\r\n    } = options\r\n\r\n    function render(vnode, container) {\r\n        patch(null,vnode, container,null,null)\r\n    }\r\n    // n1 old vnode\r\n    // n2 new vnode\r\n    function patch(n1, n2, container,parentComponent,anchor) {\r\n        // 处理组件\r\n        const { type, shapeFlag } = n2\r\n        switch (type) {\r\n            case Fragment:\r\n                processFragment(n1, n2, container,parentComponent,anchor)\r\n                break\r\n            case Text:\r\n                processText(n1, n2, container)\r\n                break\r\n            default:\r\n                if(shapeFlag & ShapeFlags.ELEMENT) {\r\n                    processElement(n1, n2, container,parentComponent,anchor)\r\n                } else if(shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\r\n                    processComponent(n1, n2, container,parentComponent,anchor)\r\n                }\r\n                break\r\n        }\r\n    }\r\n    function processFragment(n1:any, n2: any, container: any,parentComponent,anchor) {\r\n        // Frament节点只渲染children\r\n        mountChildren(n2.children, container,parentComponent,anchor)\r\n    }\r\n    function processText(n1:any,n2: any, container: any) {\r\n        const textNode = (n2.el = document.createTextNode(n2.children))\r\n        container.append(textNode)\r\n    }\r\n    function processElement(n1:any ,n2: any, container: any,parentComponent,anchor) {\r\n        if(!n1) {\r\n            mountElement(n2, container,parentComponent,anchor)\r\n        } else {\r\n            // 更新\r\n            patchElement(n1,n2,container,parentComponent,anchor)\r\n        }\r\n    }\r\n    function patchElement(n1,n2,container,parentComponent,anchor) {\r\n        // props\r\n        const oldProps = n1.props || {}\r\n        const newProps = n2.props || {}\r\n        const el = n2.el = n1.el\r\n        patchProps(el,oldProps,newProps)\r\n        // children\r\n        patchChildren(n1,n2,el,parentComponent,anchor)\r\n    }\r\n    function patchProps(el,oldProps,newProps) {\r\n        if(oldProps !== newProps) {\r\n            for (const key in newProps) {\r\n                const preProp = oldProps[key]\r\n                const nextProp = newProps[key]\r\n                if(preProp !== nextProp) {\r\n                    patchProp(el,key,preProp,nextProp)\r\n                }\r\n            }\r\n            // 删除\r\n            for(const key in oldProps) {\r\n                if(!(key in newProps)) {\r\n                    patchProp(el,key,oldProps[key],null)\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n    function patchChildren(n1,n2,container,parentComponent,anchor) {\r\n        const preShapeFlag = n1.shapeFlag\r\n        const shapeFlag = n2.shapeFlag\r\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            // 新的为文本，老的为数组\r\n            if(preShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n                // 清理老的，设置新的\r\n                unmountChildren(n1.children)\r\n                setTextElement(container,n2.children)\r\n            } else {\r\n                if(n1.children !== n2.children) {\r\n                    setTextElement(container,n2.children)\r\n                }\r\n            }\r\n        } else {\r\n            if(preShapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n                setTextElement(container,'')\r\n                mountChildren(n2.children,container,parentComponent,anchor)\r\n            } else{\r\n                // array to array\r\n                patchKeyChildren(n1.children,n2.children,container,parentComponent,anchor)\r\n            }\r\n        }\r\n    }\r\n    function unmountChildren(children) {\r\n        for(const child in children){\r\n            remove(child)\r\n        }\r\n    }\r\n    function patchKeyChildren(c1,c2,container,parentComponent,parentAnchor){\r\n        let i = 0\r\n        let c1Len = c1.length - 1, c2Len = c2.length - 1\r\n        while(i<=c1Len && i<=c2Len) {\r\n            const n1 = c1[i], n2 = c2[i]\r\n            if(isSameNode(n1,n2)) {\r\n                patch(n1,n2,container,parentComponent,parentAnchor)\r\n            } else {\r\n                break\r\n            }\r\n            i++\r\n        }\r\n        while(i<=c1Len && i<=c2Len) {\r\n            const n1 = c1[c1Len], n2 = c2[c2Len]\r\n            if(isSameNode(n1,n2)) {\r\n                patch(n1,n2,container,parentComponent,parentAnchor)\r\n            } else {\r\n                break\r\n            }\r\n            c1Len--\r\n            c2Len--\r\n        }\r\n        // 创建新的\r\n        if(i>c1Len && i<=c2Len) {\r\n            const nextPos = c2Len+1\r\n            const anchor = nextPos < c2.length ? c2[nextPos].el: null\r\n            while(i<=c2Len) {\r\n                patch(null,c2[i],container,parentComponent,anchor)\r\n                i++\r\n            }\r\n        } else if(i>c2Len) {\r\n            while(i<=c1Len) {\r\n                remove(c1[i].el)\r\n                i++\r\n            }\r\n        }else{\r\n            let s1 = i, s2 = i\r\n            const patchSum = c2Len - s2 + 1\r\n            let patchCount = 0\r\n            const indexMap = new Map()\r\n            const newToOldIndexMap = Array(patchSum).fill(0)\r\n            let moved = false\r\n            let maxIndex = 0\r\n            for(let i= s2; i<= c2Len; i++){\r\n                const nextChild = c2[i]\r\n                indexMap.set(nextChild.key,i)\r\n            }\r\n            for (let i=s1;i<=c1Len;i++){\r\n                const preChild = c1[i]\r\n                if(patchCount >= patchSum) {\r\n                    remove(preChild.el)\r\n                    continue\r\n                }\r\n                let newIndex\r\n                if(preChild.key !== null) {\r\n                    newIndex = indexMap.get(preChild.key)\r\n                } else {\r\n                    for(let j = s2;j<=c2Len;j++){\r\n                        if(isSameNode(preChild,c2[j])){\r\n                            newIndex = j\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n                if(newIndex === undefined) {\r\n                    // 删除老节点\r\n                    remove(preChild.el)\r\n                } else {\r\n                    if(newIndex>=maxIndex) {\r\n                        maxIndex = newIndex\r\n                    } else {\r\n                        moved = true\r\n                    }\r\n                    newToOldIndexMap[newIndex-s2] = i + 1\r\n                    patch(preChild,c2[newIndex],container,parentComponent,null)\r\n                    patchCount++\r\n                }\r\n            }\r\n            const maxLenSubSeq = moved ? getSequence(newToOldIndexMap) : []\r\n            let j = maxLenSubSeq.length - 1\r\n            for(let i=patchSum-1;i>=0;i--){\r\n                const newIndex = i+s2\r\n                const nextChild = c2[newIndex]\r\n                const anchor = newIndex + 1 < c2.length ? c2[newIndex+1].el : null\r\n                if(newToOldIndexMap[i]===0){\r\n                    // 创建新的\r\n                    patch(null,nextChild,container,parentComponent,anchor)\r\n                }\r\n                if(moved) {\r\n                    if(i !== maxLenSubSeq[j]){\r\n                        // 移动\r\n                        insert(nextChild.el,container,anchor)\r\n                    }else {\r\n                        j--\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    function isSameNode(n1,n2) {\r\n        return n1.type === n2.type && n1.key ===  n2.key\r\n    }\r\n    function mountElement(vnode: any, container: any,parentComponent,anchor) {\r\n        const {type, props, children, shapeFlag} = vnode\r\n        const el = (vnode.el = createElement(type))\r\n        // children\r\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            el.textContent = children\r\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n            mountChildren(vnode.children,el,parentComponent,anchor)\r\n        }\r\n        for(const key in props) {\r\n            let val = props[key]\r\n            patchProp(el,key,null,val)\r\n        }\r\n        insert(el, container)\r\n    }\r\n    function mountChildren(children,container,parentComponent,anchor) {\r\n        children.forEach(v=>patch(null,v,container,parentComponent,anchor))\r\n    }\r\n    function processComponent(n1,n2: any, container: any,parentComponent:any,anchor) {\r\n        if(!n1) {\r\n            mountComponent(n2, container,parentComponent,anchor)\r\n        } else {\r\n            // update\r\n            updateComponent(n1,n2)\r\n        }\r\n    }\r\n    function mountComponent(initialVnode: any,container: any,parentComponent:any,anchor) {\r\n        const instance = initialVnode.component = createComponentInstance(initialVnode,parentComponent)\r\n        setupComponent(instance)\r\n        setupRenderEffect(instance, initialVnode, container,anchor)\r\n    }\r\n    function updateComponent(n1,n2){\r\n        const instance = n2.component = n1.component\r\n        if(shouldUpdateComponent(n1,n2)) {\r\n            instance.next = n2\r\n            instance.update()\r\n        } else {\r\n            n2.el = n1.el\r\n            instance.vnode = n2\r\n        }\r\n    }\r\n\r\n\r\n    function setupRenderEffect(instance: any, initialVnode: any, container:any,anchor) {\r\n        instance.update = effect(()=>{\r\n            if(!instance.isMounted) {\r\n                const { proxy } = instance\r\n                const subTree = instance.subTree = instance.render.call(proxy)\r\n                // vnode -> patch\r\n                // vnode -> element -> mountElement\r\n                // 递归挂载子树\r\n                patch(null,subTree,container,instance,anchor)\r\n                // 所有组件都挂载\r\n                initialVnode.el = subTree.el\r\n                instance.isMounted = true\r\n            } else {\r\n                const { proxy,next,vnode } = instance\r\n                if(next) {\r\n                    next.el = vnode.el\r\n                    updateComponentPreRender(instance,next)\r\n                }\r\n                const subTree = instance.render.call(proxy)\r\n                const preSubTree = instance.subTree\r\n                instance.subTree = subTree\r\n                patch(preSubTree,subTree,container,instance,anchor)\r\n            }\r\n        })\r\n    }\r\n    function updateComponentPreRender(instance,nextVnode) {\r\n        instance.vnode = nextVnode\r\n        instance.next = null\r\n        instance.props = nextVnode.props\r\n    }\r\n\r\n    return {\r\n        createApp: createAppAPI(render)\r\n    }\r\n}\r\n\r\nfunction getSequence(arr: number[]): number[] {\r\n    const p = arr.slice();\r\n    const result = [0];\r\n    let i, j, u, v, c;\r\n    const len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n      const arrI = arr[i];\r\n      if (arrI !== 0) {\r\n        j = result[result.length - 1];\r\n        if (arr[j] < arrI) {\r\n          p[i] = j;\r\n          result.push(i);\r\n          continue;\r\n        }\r\n        u = 0;\r\n        v = result.length - 1;\r\n        while (u < v) {\r\n          c = (u + v) >> 1;\r\n          if (arr[result[c]] < arrI) {\r\n            u = c + 1;\r\n          } else {\r\n            v = c;\r\n          }\r\n        }\r\n        if (arrI < arr[result[u]]) {\r\n          if (u > 0) {\r\n            p[i] = result[u - 1];\r\n          }\r\n          result[u] = i;\r\n        }\r\n      }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n      result[u] = v;\r\n      v = p[v];\r\n    }\r\n    return result;\r\n  }","import { createVNode } from \"./vnode\";\r\nexport function h(type, props?, children?) {\r\n    return createVNode(type,props,children)\r\n}","import { createVNode, Fragment } from \"../vnode\";\r\n\r\nexport function renderSlots(slots,key,props){\r\n    const slot = slots[key]\r\n    if(slot) {\r\n        if(typeof slot === 'function') {\r\n            return createVNode(Fragment,{},slot(props))\r\n        }\r\n    }\r\n}","import { getCurrentInstance } from \"./component\";\r\n// 只能在setup中使用\r\nexport function provide(key, value){\r\n    // 存\r\n    const currentInstance: any = getCurrentInstance()\r\n    if(currentInstance) {\r\n        let { provides } = currentInstance\r\n        const parentProvides = currentInstance.parent.provides\r\n        // 只在第一次执行初始化操作设置原型\r\n        // 初始化时当前组件的provides和父组件的provides是一个对象\r\n        if(parentProvides === currentInstance.provides) {\r\n            provides = currentInstance.provides = Object.create(parentProvides)\r\n        }\r\n        // 在当前对象上赋值，原型执行父对象\r\n        provides[key] = value\r\n    }\r\n}\r\nexport function inject(key,defaultVal?) {\r\n    const currentInstance: any = getCurrentInstance()\r\n    if(currentInstance) {\r\n        const { parent } = currentInstance\r\n        const parentProvides = parent.provides\r\n        if (key in parentProvides) {\r\n            return parentProvides[key]\r\n        } else if(defaultVal) {\r\n            return typeof defaultVal === 'function' ? defaultVal() : defaultVal\r\n        }\r\n    }\r\n}","import { createRenderer } from \"../runtime-core/renderer\";\r\nfunction createElement(type) {\r\n    return document.createElement(type)\r\n}\r\n\r\nfunction patchProp(el,key,preVal,nextVal) {\r\n    // 处理修改\r\n    // 处理nextval为null或者undifined\r\n    // 处理删除\r\n    const isOn = key => /^on[A-Z]/.test(key)\r\n    if(isOn(key)){\r\n        const event = key.slice(2).toLowerCase()\r\n        el.addEventListener(event,nextVal)\r\n    }else {\r\n        if(nextVal===null || nextVal == undefined) {\r\n            el.removeAttribute(key)\r\n        } else{\r\n            el.setAttribute(key,nextVal)\r\n        }\r\n    }\r\n}\r\n\r\nfunction insert(child, container,anchor) {\r\n    container.insertBefore(child,anchor || null)\r\n}\r\n\r\nfunction remove(child) {\r\n    const parent = child.parentNode\r\n    if(parent){\r\n        parent.removeChild(child)\r\n    }\r\n}\r\nfunction setTextElement(el,text){\r\n    el.textContent = text\r\n}\r\nconst renderer: any = createRenderer({\r\n    createElement,\r\n    patchProp,\r\n    insert,\r\n    remove,\r\n    setTextElement\r\n})\r\n\r\nexport function createApp(...args) {\r\n    return renderer.createApp(...args)\r\n}\r\nexport * from '../runtime-core'"],"names":[],"mappings":"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"}